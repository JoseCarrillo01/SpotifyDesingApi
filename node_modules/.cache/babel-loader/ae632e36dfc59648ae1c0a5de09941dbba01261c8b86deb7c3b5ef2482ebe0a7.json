{"ast":null,"code":"var _jsxFileName = \"C:\\\\RepositoriosGithub\\\\ApiSpotify\\\\src\\\\components\\\\Inicio\\\\topArtistas.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Modal from '../songModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass TopContent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      topArtistasMexico: [],\n      selectedArtist: null,\n      isModalOpen: false\n    };\n    this.headers = {\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('access_token')\n        // Otros headers necesarios aquí\n      }\n    };\n    this.getTopArtistasMexico = () => {\n      axios.get('https://api.spotify.com/v1/browse/categories/regional_mexican/playlists?limit=1', this.headers).then(response => {\n        const playlistID = response.data.playlists.items[0].id;\n        axios.get(`https://api.spotify.com/v1/playlists/${playlistID}/tracks`, this.headers).then(response => {\n          const tracks = response.data.items;\n          const artistIds = tracks.map(item => item.track.artists[0].id);\n          this.getArtistsDetails(artistIds);\n        }).catch(error => {\n          console.error('Error al obtener las canciones de la lista de reproducción:', error);\n        });\n      }).catch(error => {\n        console.error('Error al obtener la lista de reproducción de artistas mexicanos:', error);\n      });\n    };\n    this.getArtistsDetails = artistIds => {\n      const artistRequests = artistIds.map(artistId => axios.get(`https://api.spotify.com/v1/artists/${artistId}`, this.headers));\n      axios.all(artistRequests).then(axios.spread((...responses) => {\n        const artistDetails = responses.map(response => response.data);\n        this.setState({\n          topArtistasMexico: artistDetails\n        });\n      })).catch(error => {\n        console.error('Error al obtener detalles de los artistas:', error);\n      });\n    };\n    this.handleArtistClick = artist => {\n      this.setState({\n        selectedArtist: artist,\n        isModalOpen: true\n      });\n    };\n    this.closeModal = () => {\n      this.setState({\n        selectedArtist: null,\n        isModalOpen: false\n      });\n    };\n  }\n  componentDidMount() {\n    this.getTopArtistasMexico();\n  }\n  render() {\n    const {\n      topArtistasMexico,\n      selectedArtist,\n      isModalOpen\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-extrabold tracking-tight text-gray-900\",\n          children: \"Artistas populares en M\\xE9xico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8\",\n          children: topArtistasMexico.map(artista => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group relative\",\n            onClick: () => this.handleArtistClick(artista),\n            children: [artista.images && artista.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: artista.images[0].url,\n                alt: artista.name,\n                className: \"w-full h-full object-center object-cover lg:w-full lg:h-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex justify-between\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm text-gray-700 cursor-pointer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    \"aria-hidden\": \"true\",\n                    className: \"absolute inset-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 23\n                  }, this), artista.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)]\n          }, artista.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), selectedArtist !== null && /*#__PURE__*/_jsxDEV(Modal, {\n          show: isModalOpen,\n          onClose: this.closeModal,\n          artist: selectedArtist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default TopContent;","map":{"version":3,"names":["React","Component","axios","Modal","jsxDEV","_jsxDEV","TopContent","constructor","args","state","topArtistasMexico","selectedArtist","isModalOpen","headers","Authorization","localStorage","getItem","getTopArtistasMexico","get","then","response","playlistID","data","playlists","items","id","tracks","artistIds","map","item","track","artists","getArtistsDetails","catch","error","console","artistRequests","artistId","all","spread","responses","artistDetails","setState","handleArtistClick","artist","closeModal","componentDidMount","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","artista","onClick","images","length","src","url","alt","name","show","onClose"],"sources":["C:/RepositoriosGithub/ApiSpotify/src/components/Inicio/topArtistas.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from '../songModal'; \r\n\r\nclass TopContent extends Component {\r\n  state = {\r\n    topArtistasMexico: [],\r\n    selectedArtist: null,\r\n    isModalOpen: false,\r\n  };\r\n\r\n  headers = {\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('access_token'),\r\n      // Otros headers necesarios aquí\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getTopArtistasMexico();\r\n  }\r\n\r\n  getTopArtistasMexico = () => {\r\n    axios.get('https://api.spotify.com/v1/browse/categories/regional_mexican/playlists?limit=1', this.headers)\r\n      .then(response => {\r\n        const playlistID = response.data.playlists.items[0].id;\r\n        axios.get(`https://api.spotify.com/v1/playlists/${playlistID}/tracks`, this.headers)\r\n          .then(response => {\r\n            const tracks = response.data.items;\r\n            const artistIds = tracks.map(item => item.track.artists[0].id);\r\n            this.getArtistsDetails(artistIds);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error al obtener las canciones de la lista de reproducción:', error);\r\n          });\r\n      })\r\n      .catch(error => {\r\n        console.error('Error al obtener la lista de reproducción de artistas mexicanos:', error);\r\n      });\r\n  };\r\n\r\n  getArtistsDetails = artistIds => {\r\n    const artistRequests = artistIds.map(artistId =>\r\n      axios.get(`https://api.spotify.com/v1/artists/${artistId}`, this.headers)\r\n    );\r\n\r\n    axios.all(artistRequests)\r\n      .then(axios.spread((...responses) => {\r\n        const artistDetails = responses.map(response => response.data);\r\n        this.setState({ topArtistasMexico: artistDetails });\r\n      }))\r\n      .catch(error => {\r\n        console.error('Error al obtener detalles de los artistas:', error);\r\n      });\r\n  };\r\n\r\n  handleArtistClick = artist => {\r\n    this.setState({ selectedArtist: artist, isModalOpen: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ selectedArtist: null, isModalOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { topArtistasMexico, selectedArtist, isModalOpen } = this.state;\r\n\r\n    return (\r\n      <div className=\"bg-white\">\r\n        <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\r\n          <h2 className=\"text-2xl font-extrabold tracking-tight text-gray-900\">Artistas populares en México</h2>\r\n          <div className=\"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8\">\r\n            {topArtistasMexico.map(artista => (\r\n              <div key={artista.id} className=\"group relative\" onClick={() => this.handleArtistClick(artista)}>\r\n                {artista.images && artista.images.length > 0 && (\r\n                  <div className=\"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none\">\r\n                    <img\r\n                      src={artista.images[0].url}\r\n                      alt={artista.name}\r\n                      className=\"w-full h-full object-center object-cover lg:w-full lg:h-full\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <div className=\"mt-4 flex justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-sm text-gray-700 cursor-pointer\">\r\n                      <span aria-hidden=\"true\" className=\"absolute inset-0\" />\r\n                      {artista.name}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {selectedArtist !== null && (\r\n            <Modal show={isModalOpen} onClose={this.closeModal} artist={selectedArtist} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopContent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}