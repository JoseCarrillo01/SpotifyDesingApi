{"ast":null,"code":"import axios from \"axios\";\nimport Global from \"../Global/Global\";\nimport { Buffer } from \"buffer\";\nconst redirect_uri = Global.redirect_uri;\nconst client_id = Global.client_id;\nconst client_secret = Global.client_secret;\nexport const spotyfyAuthCall = async code => {\n  try {\n    const searchParams = new URLSearchParams({\n      code: code,\n      grant_type: \"authorization_code\",\n      redirect_uri: redirect_uri,\n      client_id: client_id,\n      client_secret: client_secret\n    });\n    const response = await fetch(\"https://accounts.spotify.com/api/token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\"\n      },\n      body: searchParams\n    });\n    return await response.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getRefreshedAccesToken = () => {\n  var refresh_token = window.localStorage.getItem(\"refresh_token\");\n  axios.post('https://accounts.spotify.com/api/token', new URLSearchParams({\n    grant_type: 'refresh_token',\n    refresh_token: refresh_token\n  }), {\n    headers: {\n      'Authorization': 'Basic ' + new Buffer.from(client_id + ':' + client_secret).toString('base64')\n    }\n  }).then(response => {\n    console.log(response.data.access_token);\n    return response.data.access_token;\n  });\n};","map":{"version":3,"names":["axios","Global","Buffer","redirect_uri","client_id","client_secret","spotyfyAuthCall","code","searchParams","URLSearchParams","grant_type","response","fetch","method","headers","body","json","error","console","log","getRefreshedAccesToken","refresh_token","window","localStorage","getItem","post","from","toString","then","data","access_token"],"sources":["C:/RepositoriosGithub/ApiSpotify/src/utils/index.js"],"sourcesContent":["import axios from \"axios\";\nimport Global from \"../Global/Global\";\nimport { Buffer } from \"buffer\";\n\nconst redirect_uri = Global.redirect_uri;\nconst client_id = Global.client_id;\nconst client_secret = Global.client_secret;\n\n\nexport const spotyfyAuthCall = async (code) => {\n  try {\n    const searchParams = new URLSearchParams({\n      code: code,\n      grant_type: \"authorization_code\",\n      redirect_uri: redirect_uri,\n      client_id: client_id,\n      client_secret: client_secret,\n    });\n    const response = await fetch(\"https://accounts.spotify.com/api/token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\":\n          \"application/x-www-form-urlencoded;charset=UTF-8\",\n      },\n      body: searchParams,\n    });\n    return await response.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getRefreshedAccesToken = () => {\n\n  var refresh_token = window.localStorage.getItem(\"refresh_token\");\n\n  axios.post('https://accounts.spotify.com/api/token', new URLSearchParams({\n    grant_type: 'refresh_token',\n    refresh_token: refresh_token\n  }), {\n    headers: {\n      'Authorization': 'Basic ' + (new Buffer.from(client_id + ':' + client_secret).toString('base64'))\n    }\n  }).then(response => {\n    console.log(response.data.access_token);\n    return response.data.access_token;\n  })\n}\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,kBAAkB;AACrC,SAASC,MAAM,QAAQ,QAAQ;AAE/B,MAAMC,YAAY,GAAGF,MAAM,CAACE,YAAY;AACxC,MAAMC,SAAS,GAAGH,MAAM,CAACG,SAAS;AAClC,MAAMC,aAAa,GAAGJ,MAAM,CAACI,aAAa;AAG1C,OAAO,MAAMC,eAAe,GAAG,MAAOC,IAAI,IAAK;EAC7C,IAAI;IACF,MAAMC,YAAY,GAAG,IAAIC,eAAe,CAAC;MACvCF,IAAI,EAAEA,IAAI;MACVG,UAAU,EAAE,oBAAoB;MAChCP,YAAY,EAAEA,YAAY;MAC1BC,SAAS,EAAEA,SAAS;MACpBC,aAAa,EAAEA;IACjB,CAAC,CAAC;IACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;MACrEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EACZ;MACJ,CAAC;MACDC,IAAI,EAAEP;IACR,CAAC,CAAC;IACF,OAAO,MAAMG,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMG,sBAAsB,GAAGA,CAAA,KAAM;EAE1C,IAAIC,aAAa,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;EAEhExB,KAAK,CAACyB,IAAI,CAAC,wCAAwC,EAAE,IAAIhB,eAAe,CAAC;IACvEC,UAAU,EAAE,eAAe;IAC3BW,aAAa,EAAEA;EACjB,CAAC,CAAC,EAAE;IACFP,OAAO,EAAE;MACP,eAAe,EAAE,QAAQ,GAAI,IAAIZ,MAAM,CAACwB,IAAI,CAACtB,SAAS,GAAG,GAAG,GAAGC,aAAa,CAAC,CAACsB,QAAQ,CAAC,QAAQ;IACjG;EACF,CAAC,CAAC,CAACC,IAAI,CAACjB,QAAQ,IAAI;IAClBO,OAAO,CAACC,GAAG,CAACR,QAAQ,CAACkB,IAAI,CAACC,YAAY,CAAC;IACvC,OAAOnB,QAAQ,CAACkB,IAAI,CAACC,YAAY;EACnC,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}